### MAPS AND SUMS ###

nil = {} \n {} -> Nil {};
elem_1 = {} \n {} -> Cons {4# nil};
elem_2 = {} \n {} -> Cons {10# elem_1};
elem_3 = {} \n {} -> Cons {16# elem_2};

inc = {} \n {x i} -> case + {x i} of {v -> v {}};

map = {} \n {f xs} -> case xs {} of {
    Nil {} -> Nil {};
    Cons {y ys} -> let {
        fy = {f y} \n {} -> f {y};
        mfy = {f ys} \n {} -> map {f ys}
    } in Cons {fy mfy}
};

sum = {} \n {xs} -> case xs {} of {
    Nil {} -> 0#;
    Cons {y ys} -> case y {} of {
        v -> case sum {ys} of {
            sy -> + {v sy}
        }
    }
};

# main = {} \n {} -> map {inc elem_3};
# main = {} \n {} -> sum {elem_3};

inc3 = {} \n {ys} -> inc {ys 4#};
incd = {} \n {} -> map {inc3 elem_3};
main = {} \n {} -> sum {incd};
